before semantic ast:
 decList(
  functionDec(set,
   fieldList(
    field(a,
     int,
     expList(
      intExp(0),
      expList()),
     FALSE,
    fieldList(
     field(pos,
      int,
      expList(),
      FALSE,
     fieldList(
      field(d,
       int,
       expList(),
       FALSE,
      fieldList()))),
   int,
   blockStm(
    comStmList(
     comStm(
      decList(
       varibaleDec(bitcount,
        int,
        intExp(30),
        FALSE),
       decList()),),
     comStmList(
      comStm(
       decList(
        arrayDec(x,
         int,
         expList(
          opExp(
           add,
           varExp(
            simpleVar(bitcount)),
           intExp(1)),
          expList()),
         arrayInitList(
          signleInit(
           intExp(0))),
         FALSE),
        decList()),),
      comStmList(
       comStm(
        assignStm(
         arrayVar(
          simpleVar(x),
          intExp(0)),
         intExp(1))),
       comStmList(
        comStm(
         assignStm(
          arrayVar(
           simpleVar(x),
           intExp(1)),
          opExp(
           mul,
           varExp(
            arrayVar(
             simpleVar(x),
             intExp(0))),
           intExp(2)))),
        comStmList(
         comStm(
          assignStm(
           arrayVar(
            simpleVar(x),
            intExp(2)),
           opExp(
            mul,
            varExp(
             arrayVar(
              simpleVar(x),
              intExp(1))),
            intExp(2)))),
         comStmList(
          comStm(
           assignStm(
            arrayVar(
             simpleVar(x),
             intExp(3)),
            opExp(
             mul,
             varExp(
              arrayVar(
               simpleVar(x),
               intExp(2))),
             intExp(2)))),
          comStmList(
           comStm(
            assignStm(
             arrayVar(
              simpleVar(x),
              intExp(4)),
             opExp(
              mul,
              varExp(
               arrayVar(
                simpleVar(x),
                intExp(3))),
              intExp(2)))),
           comStmList(
            comStm(
             assignStm(
              arrayVar(
               simpleVar(x),
               intExp(5)),
              opExp(
               mul,
               varExp(
                arrayVar(
                 simpleVar(x),
                 intExp(4))),
               intExp(2)))),
            comStmList(
             comStm(
              assignStm(
               arrayVar(
                simpleVar(x),
                intExp(6)),
               opExp(
                mul,
                varExp(
                 arrayVar(
                  simpleVar(x),
                  intExp(5))),
                intExp(2)))),
             comStmList(
              comStm(
               assignStm(
                arrayVar(
                 simpleVar(x),
                 intExp(7)),
                opExp(
                 mul,
                 varExp(
                  arrayVar(
                   simpleVar(x),
                   intExp(6))),
                 intExp(2)))),
              comStmList(
               comStm(
                assignStm(
                 arrayVar(
                  simpleVar(x),
                  intExp(8)),
                 opExp(
                  mul,
                  varExp(
                   arrayVar(
                    simpleVar(x),
                    intExp(7))),
                  intExp(2)))),
               comStmList(
                comStm(
                 assignStm(
                  arrayVar(
                   simpleVar(x),
                   intExp(9)),
                  opExp(
                   mul,
                   varExp(
                    arrayVar(
                     simpleVar(x),
                     intExp(8))),
                   intExp(2)))),
                comStmList(
                 comStm(
                  assignStm(
                   arrayVar(
                    simpleVar(x),
                    intExp(10)),
                   opExp(
                    mul,
                    varExp(
                     arrayVar(
                      simpleVar(x),
                      intExp(9))),
                    intExp(2)))),
                 comStmList(
                  comStm(
                   decList(
                    varibaleDec(i,
                     int,
                     intExp(10),
                     FALSE),
                    decList()),),
                  comStmList(
                   comStm(
                    whileStm(
                     opExp(
                      lt,
                      varExp(
                       simpleVar(i)),
                      varExp(
                       simpleVar(bitcount))),
                     blockStm(
                      comStmList(
                       comStm(
                        assignStm(
                         simpleVar(i),
                         opExp(
                          add,
                          varExp(
                           simpleVar(i)),
                          intExp(1)))),
                       comStmList(
                        comStm(
                         assignStm(
                          arrayVar(
                           simpleVar(x),
                           varExp(
                            simpleVar(i))),
                          opExp(
                           mul,
                           varExp(
                            arrayVar(
                             simpleVar(x),
                             opExp(
                              sub,
                              varExp(
                               simpleVar(i)),
                              intExp(1)))),
                           intExp(2)))),
                        comStmList()))))
),
                   comStmList(
                    comStm(
                     decList(
                      varibaleDec(v,
                       int,
                       intExp(0),
                       FALSE),
                      decList()),),
                    comStmList(
                     comStm(
                      ifStm(
                       opExp(
                        ge,
                        opExp(
                         dev,
                         varExp(
                          simpleVar(pos)),
                         varExp(
                          simpleVar(bitcount))),
                        intExp(10000)),
                       returnStm(
                        intExp(0))                       )),
                     comStmList(
                      comStm(
                       ifStm(
                        opExp(
                         ne,
                         opExp(
                          mod,
                          opExp(
                           dev,
                           varExp(
                            arrayVar(
                             simpleVar(a),
                             opExp(
                              dev,
                              varExp(
                               simpleVar(pos)),
                              varExp(
                               simpleVar(bitcount))))),
                           varExp(
                            arrayVar(
                             simpleVar(x),
                             opExp(
                              mod,
                              varExp(
                               simpleVar(pos)),
                              varExp(
                               simpleVar(bitcount)))))),
                          intExp(2)),
                         varExp(
                          simpleVar(d))),
                        blockStm(
                         comStmList(
                          comStm(
                           ifStm(
                            opExp(
                             eq,
                             opExp(
                              mod,
                              opExp(
                               dev,
                               varExp(
                                arrayVar(
                                 simpleVar(a),
                                 opExp(
                                  dev,
                                  varExp(
                                   simpleVar(pos)),
                                  varExp(
                                   simpleVar(bitcount))))),
                               varExp(
                                arrayVar(
                                 simpleVar(x),
                                 opExp(
                                  mod,
                                  varExp(
                                   simpleVar(pos)),
                                  varExp(
                                   simpleVar(bitcount)))))),
                              intExp(2)),
                             intExp(0)),
                            ifStm(
                             opExp(
                              eq,
                              varExp(
                               simpleVar(d)),
                              intExp(1)),
                             assignStm(
                              simpleVar(v),
                              varExp(
                               arrayVar(
                                simpleVar(x),
                                opExp(
                                 mod,
                                 varExp(
                                  simpleVar(pos)),
                                 varExp(
                                  simpleVar(bitcount))))))                             )                            )),
                          comStmList(
                           comStm(
                            ifStm(
                             opExp(
                              eq,
                              opExp(
                               mod,
                               opExp(
                                dev,
                                varExp(
                                 arrayVar(
                                  simpleVar(a),
                                  opExp(
                                   dev,
                                   varExp(
                                    simpleVar(pos)),
                                   varExp(
                                    simpleVar(bitcount))))),
                                varExp(
                                 arrayVar(
                                  simpleVar(x),
                                  opExp(
                                   mod,
                                   varExp(
                                    simpleVar(pos)),
                                   varExp(
                                    simpleVar(bitcount)))))),
                               intExp(2)),
                              intExp(1)),
                             ifStm(
                              opExp(
                               eq,
                               varExp(
                                simpleVar(d)),
                               intExp(0)),
                              assignStm(
                               simpleVar(v),
                               opExp(
                                sub,
                                varExp(
                                 simpleVar(v)),
                                varExp(
                                 arrayVar(
                                  simpleVar(x),
                                  opExp(
                                   mod,
                                   varExp(
                                    simpleVar(pos)),
                                   varExp(
                                    simpleVar(bitcount)))))))                              )                             )),
                           comStmList())))                        )),
                      comStmList(
                       comStm(
                        assignStm(
                         arrayVar(
                          simpleVar(a),
                          opExp(
                           dev,
                           varExp(
                            simpleVar(pos)),
                           varExp(
                            simpleVar(bitcount)))),
                         opExp(
                          add,
                          varExp(
                           arrayVar(
                            simpleVar(a),
                            opExp(
                             dev,
                             varExp(
                              simpleVar(pos)),
                             varExp(
                              simpleVar(bitcount))))),
                          varExp(
                           simpleVar(v))))),
                       comStmList(
                        comStm(
                         returnStm(
                          intExp(0))),
                        comStmList())))))))))))))))))))))),
  decList(
   arrayDec(seed,
    int,
    expList(
     intExp(3),
     expList()),
    arrayInitList(
     signleInit(
      intExp(19971231)),
     arrayInitList(
      signleInit(
       intExp(19981013)),
      arrayInitList(
       signleInit(
        opExp(
         add,
         intExp(1000000000),
         intExp(7)))))),
    FALSE),
   decList(
    varibaleDec(staticvalue,
     int,
     intExp(0),
     FALSE),
    decList(
     functionDec(rand,
      fieldList(),
      int,
      blockStm(
       comStmList(
        comStm(
         assignStm(
          simpleVar(staticvalue),
          opExp(
           add,
           opExp(
            mul,
            varExp(
             simpleVar(staticvalue)),
            varExp(
             arrayVar(
              simpleVar(seed),
              intExp(0)))),
           varExp(
            arrayVar(
             simpleVar(seed),
             intExp(1)))))),
        comStmList(
         comStm(
          assignStm(
           simpleVar(staticvalue),
           opExp(
            mod,
            varExp(
             simpleVar(staticvalue)),
            varExp(
             arrayVar(
              simpleVar(seed),
              intExp(2)))))),
         comStmList(
          comStm(
           ifStm(
            opExp(
             lt,
             varExp(
              simpleVar(staticvalue)),
             intExp(0)),
            assignStm(
             simpleVar(staticvalue),
             opExp(
              add,
              varExp(
               arrayVar(
                simpleVar(seed),
                intExp(2))),
              varExp(
               simpleVar(staticvalue))))            )),
          comStmList(
           comStm(
            returnStm(
             varExp(
              simpleVar(staticvalue)))),
           comStmList())))))),
     decList(
      arrayDec(a,
       int,
       expList(
        intExp(10000),
        expList()),
       arrayInitList(
        signleInit(
         intExp(0))),
       FALSE),
      decList(
       functionDec(main,
        fieldList(),
        int,
        blockStm(
         comStmList(
          comStm(
           decList(
            varibaleDec(n,
             int,
             callExp(getint,
              expList()),
             FALSE),
            decList()),),
          comStmList(
           comStm(
            assignStm(
             simpleVar(staticvalue),
             callExp(getint,
              expList()))),
           comStmList(
            comStm(
             expStm(
              callExp(starttime,
               expList())),
            comStmList(
             comStm(
              decList(
               varibaleDec(y,
                int,
                FALSE),
               decList(
                varibaleDec(x,
                 int,
                 FALSE),
                decList())),),
             comStmList(
              comStm(
               whileStm(
                opExp(
                 gt,
                 varExp(
                  simpleVar(n)),
                 intExp(0)),
                blockStm(
                 comStmList(
                  comStm(
                   assignStm(
                    simpleVar(n),
                    opExp(
                     sub,
                     varExp(
                      simpleVar(n)),
                     intExp(1)))),
                  comStmList(
                   comStm(
                    assignStm(
                     simpleVar(x),
                     opExp(
                      mod,
                      callExp(rand,
                       expList()),
                      intExp(300000)))),
                   comStmList(
                    comStm(
                     assignStm(
                      simpleVar(y),
                      opExp(
                       mod,
                       callExp(rand,
                        expList()),
                       intExp(2)))),
                    comStmList(
                     comStm(
                      expStm(
                       callExp(set,
                        expList(
                         varExp(
                          simpleVar(a)),
                         expList(
                          varExp(
                           simpleVar(x)),
                          expList(
                           varExp(
                            simpleVar(y)),
                           expList()))))),
                     comStmList()))))))
),
              comStmList(
               comStm(
                expStm(
                 callExp(stoptime,
                  expList())),
               comStmList(
                comStm(
                 expStm(
                  callExp(putarray,
                   expList(
                    intExp(10000),
                    expList(
                     varExp(
                      simpleVar(a)),
                     expList())))),
                comStmList(
                 comStm(
                  returnStm(
                   intExp(0))),
                 comStmList())))))))))),
       decList()))))))

semantic check finish !
after semantic ast:
 decList(
  functionDec(set,
   fieldList(
    field(a,
     int,
     expList(
      intExp(0),
      expList()),
     FALSE,
    fieldList(
     field(pos,
      int,
      expList(),
      FALSE,
     fieldList(
      field(d,
       int,
       expList(),
       FALSE,
      fieldList()))),
   int,
   blockStm(
    comStmList(
     comStm(
      decList(
       varibaleDec(bitcount,
        int,
        intExp(30),
        FALSE),
       decList()),),
     comStmList(
      comStm(
       decList(
        arrayDec(x,
         int,
         expList(
          intExp(31),
          expList()),
         arrayInitList(
          signleInit(
           intExp(0))),
         FALSE),
        decList()),),
      comStmList(
       comStm(
        assignStm(
         arrayVar(
          simpleVar(x),
          intExp(0)),
         intExp(1))),
       comStmList(
        comStm(
         assignStm(
          arrayVar(
           simpleVar(x),
           intExp(1)),
          opExp(
           mul,
           varExp(
            arrayVar(
             simpleVar(x),
             intExp(0))),
           intExp(2)))),
        comStmList(
         comStm(
          assignStm(
           arrayVar(
            simpleVar(x),
            intExp(2)),
           opExp(
            mul,
            varExp(
             arrayVar(
              simpleVar(x),
              intExp(1))),
            intExp(2)))),
         comStmList(
          comStm(
           assignStm(
            arrayVar(
             simpleVar(x),
             intExp(3)),
            opExp(
             mul,
             varExp(
              arrayVar(
               simpleVar(x),
               intExp(2))),
             intExp(2)))),
          comStmList(
           comStm(
            assignStm(
             arrayVar(
              simpleVar(x),
              intExp(4)),
             opExp(
              mul,
              varExp(
               arrayVar(
                simpleVar(x),
                intExp(3))),
              intExp(2)))),
           comStmList(
            comStm(
             assignStm(
              arrayVar(
               simpleVar(x),
               intExp(5)),
              opExp(
               mul,
               varExp(
                arrayVar(
                 simpleVar(x),
                 intExp(4))),
               intExp(2)))),
            comStmList(
             comStm(
              assignStm(
               arrayVar(
                simpleVar(x),
                intExp(6)),
               opExp(
                mul,
                varExp(
                 arrayVar(
                  simpleVar(x),
                  intExp(5))),
                intExp(2)))),
             comStmList(
              comStm(
               assignStm(
                arrayVar(
                 simpleVar(x),
                 intExp(7)),
                opExp(
                 mul,
                 varExp(
                  arrayVar(
                   simpleVar(x),
                   intExp(6))),
                 intExp(2)))),
              comStmList(
               comStm(
                assignStm(
                 arrayVar(
                  simpleVar(x),
                  intExp(8)),
                 opExp(
                  mul,
                  varExp(
                   arrayVar(
                    simpleVar(x),
                    intExp(7))),
                  intExp(2)))),
               comStmList(
                comStm(
                 assignStm(
                  arrayVar(
                   simpleVar(x),
                   intExp(9)),
                  opExp(
                   mul,
                   varExp(
                    arrayVar(
                     simpleVar(x),
                     intExp(8))),
                   intExp(2)))),
                comStmList(
                 comStm(
                  assignStm(
                   arrayVar(
                    simpleVar(x),
                    intExp(10)),
                   opExp(
                    mul,
                    varExp(
                     arrayVar(
                      simpleVar(x),
                      intExp(9))),
                    intExp(2)))),
                 comStmList(
                  comStm(
                   decList(
                    varibaleDec(i,
                     int,
                     intExp(10),
                     FALSE),
                    decList()),),
                  comStmList(
                   comStm(
                    whileStm(
                     opExp(
                      lt,
                      varExp(
                       simpleVar(i)),
                      intExp(30)),
                     blockStm(
                      comStmList(
                       comStm(
                        assignStm(
                         simpleVar(i),
                         opExp(
                          add,
                          varExp(
                           simpleVar(i)),
                          intExp(1)))),
                       comStmList(
                        comStm(
                         assignStm(
                          arrayVar(
                           simpleVar(x),
                           varExp(
                            simpleVar(i))),
                          opExp(
                           mul,
                           varExp(
                            arrayVar(
                             simpleVar(x),
                             opExp(
                              sub,
                              varExp(
                               simpleVar(i)),
                              intExp(1)))),
                           intExp(2)))),
                        comStmList()))))
),
                   comStmList(
                    comStm(
                     decList(
                      varibaleDec(v,
                       int,
                       intExp(0),
                       FALSE),
                      decList()),),
                    comStmList(
                     comStm(
                      ifStm(
                       opExp(
                        ge,
                        opExp(
                         dev,
                         varExp(
                          simpleVar(pos)),
                         intExp(30)),
                        intExp(10000)),
                       returnStm(
                        intExp(0))                       )),
                     comStmList(
                      comStm(
                       ifStm(
                        opExp(
                         ne,
                         opExp(
                          mod,
                          opExp(
                           dev,
                           varExp(
                            arrayVar(
                             simpleVar(a),
                             opExp(
                              dev,
                              varExp(
                               simpleVar(pos)),
                              varExp(
                               simpleVar(bitcount))))),
                           varExp(
                            arrayVar(
                             simpleVar(x),
                             opExp(
                              mod,
                              varExp(
                               simpleVar(pos)),
                              varExp(
                               simpleVar(bitcount)))))),
                          intExp(2)),
                         varExp(
                          simpleVar(d))),
                        blockStm(
                         comStmList(
                          comStm(
                           ifStm(
                            opExp(
                             eq,
                             opExp(
                              mod,
                              opExp(
                               dev,
                               varExp(
                                arrayVar(
                                 simpleVar(a),
                                 opExp(
                                  dev,
                                  varExp(
                                   simpleVar(pos)),
                                  varExp(
                                   simpleVar(bitcount))))),
                               varExp(
                                arrayVar(
                                 simpleVar(x),
                                 opExp(
                                  mod,
                                  varExp(
                                   simpleVar(pos)),
                                  varExp(
                                   simpleVar(bitcount)))))),
                              intExp(2)),
                             intExp(0)),
                            ifStm(
                             opExp(
                              eq,
                              varExp(
                               simpleVar(d)),
                              intExp(1)),
                             assignStm(
                              simpleVar(v),
                              varExp(
                               arrayVar(
                                simpleVar(x),
                                opExp(
                                 mod,
                                 varExp(
                                  simpleVar(pos)),
                                 varExp(
                                  simpleVar(bitcount))))))                             )                            )),
                          comStmList(
                           comStm(
                            ifStm(
                             opExp(
                              eq,
                              opExp(
                               mod,
                               opExp(
                                dev,
                                varExp(
                                 arrayVar(
                                  simpleVar(a),
                                  opExp(
                                   dev,
                                   varExp(
                                    simpleVar(pos)),
                                   varExp(
                                    simpleVar(bitcount))))),
                                varExp(
                                 arrayVar(
                                  simpleVar(x),
                                  opExp(
                                   mod,
                                   varExp(
                                    simpleVar(pos)),
                                   varExp(
                                    simpleVar(bitcount)))))),
                               intExp(2)),
                              intExp(1)),
                             ifStm(
                              opExp(
                               eq,
                               varExp(
                                simpleVar(d)),
                               intExp(0)),
                              assignStm(
                               simpleVar(v),
                               opExp(
                                sub,
                                varExp(
                                 simpleVar(v)),
                                varExp(
                                 arrayVar(
                                  simpleVar(x),
                                  opExp(
                                   mod,
                                   varExp(
                                    simpleVar(pos)),
                                   varExp(
                                    simpleVar(bitcount)))))))                              )                             )),
                           comStmList())))                        )),
                      comStmList(
                       comStm(
                        assignStm(
                         arrayVar(
                          simpleVar(a),
                          opExp(
                           dev,
                           varExp(
                            simpleVar(pos)),
                           varExp(
                            simpleVar(bitcount)))),
                         opExp(
                          add,
                          varExp(
                           arrayVar(
                            simpleVar(a),
                            opExp(
                             dev,
                             varExp(
                              simpleVar(pos)),
                             varExp(
                              simpleVar(bitcount))))),
                          varExp(
                           simpleVar(v))))),
                       comStmList(
                        comStm(
                         returnStm(
                          intExp(0))),
                        comStmList())))))))))))))))))))))),
  decList(
   arrayDec(seed,
    int,
    expList(
     intExp(3),
     expList()),
    arrayInitList(
     signleInit(
      intExp(19971231)),
     arrayInitList(
      signleInit(
       intExp(19981013)),
      arrayInitList(
       signleInit(
        opExp(
         add,
         intExp(1000000000),
         intExp(7)))))),
    FALSE),
   decList(
    varibaleDec(staticvalue,
     int,
     intExp(0),
     FALSE),
    decList(
     functionDec(rand,
      fieldList(),
      int,
      blockStm(
       comStmList(
        comStm(
         assignStm(
          simpleVar(staticvalue),
          opExp(
           add,
           opExp(
            mul,
            varExp(
             simpleVar(staticvalue)),
            varExp(
             arrayVar(
              simpleVar(seed),
              intExp(0)))),
           varExp(
            arrayVar(
             simpleVar(seed),
             intExp(1)))))),
        comStmList(
         comStm(
          assignStm(
           simpleVar(staticvalue),
           opExp(
            mod,
            varExp(
             simpleVar(staticvalue)),
            varExp(
             arrayVar(
              simpleVar(seed),
              intExp(2)))))),
         comStmList(
          comStm(
           ifStm(
            opExp(
             lt,
             varExp(
              simpleVar(staticvalue)),
             intExp(0)),
            assignStm(
             simpleVar(staticvalue),
             opExp(
              add,
              varExp(
               arrayVar(
                simpleVar(seed),
                intExp(2))),
              varExp(
               simpleVar(staticvalue))))            )),
          comStmList(
           comStm(
            returnStm(
             varExp(
              simpleVar(staticvalue)))),
           comStmList())))))),
     decList(
      arrayDec(a,
       int,
       expList(
        intExp(10000),
        expList()),
       arrayInitList(
        signleInit(
         intExp(0))),
       FALSE),
      decList(
       functionDec(main,
        fieldList(),
        int,
        blockStm(
         comStmList(
          comStm(
           decList(
            varibaleDec(n,
             int,
             callExp(getint,
              expList()),
             FALSE),
            decList()),),
          comStmList(
           comStm(
            assignStm(
             simpleVar(staticvalue),
             callExp(getint,
              expList()))),
           comStmList(
            comStm(
             expStm(
              callExp(starttime,
               expList())),
            comStmList(
             comStm(
              decList(
               varibaleDec(y,
                int,
                FALSE),
               decList(
                varibaleDec(x,
                 int,
                 FALSE),
                decList())),),
             comStmList(
              comStm(
               whileStm(
                opExp(
                 gt,
                 varExp(
                  simpleVar(n)),
                 intExp(0)),
                blockStm(
                 comStmList(
                  comStm(
                   assignStm(
                    simpleVar(n),
                    opExp(
                     sub,
                     varExp(
                      simpleVar(n)),
                     intExp(1)))),
                  comStmList(
                   comStm(
                    assignStm(
                     simpleVar(x),
                     opExp(
                      mod,
                      callExp(rand,
                       expList()),
                      intExp(300000)))),
                   comStmList(
                    comStm(
                     assignStm(
                      simpleVar(y),
                      opExp(
                       mod,
                       callExp(rand,
                        expList()),
                       intExp(2)))),
                    comStmList(
                     comStm(
                      expStm(
                       callExp(set,
                        expList(
                         varExp(
                          simpleVar(a)),
                         expList(
                          varExp(
                           simpleVar(x)),
                          expList(
                           varExp(
                            simpleVar(y)),
                           expList()))))),
                     comStmList()))))))
),
              comStmList(
               comStm(
                expStm(
                 callExp(stoptime,
                  expList())),
               comStmList(
                comStm(
                 expStm(
                  callExp(putarray,
                   expList(
                    intExp(10000),
                    expList(
                     varExp(
                      simpleVar(a)),
                     expList())))),
                comStmList(
                 comStm(
                  returnStm(
                   intExp(0))),
                 comStmList())))))))))),
       decList()))))))